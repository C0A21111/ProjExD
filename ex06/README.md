# 第6回
## 迷路「工科屯ノ旅路」（ex06/dungeon.py）
### 使い方
* 十字キーでこうかとんを操作することが出来る。進行方向によってこうかとんのイラストは変化する。
* 壁には移動できない仕様になっている。
* （追）スタートの位置は青色、ゴールの位置は赤色で表示されている。
* （追）赤色のポイントまで移動すると「STAGE CLEAR!!」の表示が出たのち次のフロアへと進む。
* （追）現在いるフロアは左上に表示されている。
* （追）茶色のマスを踏むと地下フロアへと進む。地下フロアでゴールにたどり着くと、メインの地上フロアに戻る。
* （追）各地下フロアは一度しか入れず、地下を出るとそのマスは消える。
* （追）すべてのフロアをクリアすると、「GAME ALL CLEAR!!」の表示が出たのち、ゲームが終了する。
* ゲームは右上の「✕」を押しウィンドウを閉じることでいつでも終了できる。
### プログラム内䛾解説
* 各定数：ゲームの初期設定値を格納している。スクリーンの大きさ、メインフロアの数、１フロア当たりの地下フロアの数、迷路のマスの数、マスの大きさ、こうかとんの画像の拡大レートがある。
* playing変数：ゲームをプレイしている最中かどうかを表す。Trueの時のみ移動ができる。
* chack_wall関数：移動先が壁であるか否かを返す関数。
* show_dungeon関数：迷路のリストを受け取り、迷路を描画する。
* game_play_main関数：メインフロアのゲーム進行を行う。プレイヤーの移動や地下フロアへの移動、ゴール判定などを行う。
* game_play_sub関数：地下フロアのゲーム進行を行う。プレイヤーの移動やゴール判定、メインの地上フロアへ戻る動作などを行う。
* main関数：maze_makerモジュールを用いて迷路のリストを作り、これによって各フロア、各地下フロアの構造を構成する。
* Screenクラス：ゲーム画面全体のスクリーンを扱うクラス。スクリーンを描画するblitメソッドがある。
* Playerクラス：こうかとんを扱うクラス。()こうかとんを描画するblitメソッド、座標の更新を行うupdateメソッドがある。
## maze_makerモジュール（ex06/dungeon_maker.py）
### プログラム内䛾解説（maze_makerを改良）
* dungeon_makerモジュール/make_dungeon関数：縦のマスの数、横のマスの数、地下フロアの定数、毎フロアか否かを表す数を引数として受け取り、迷路を作る。迷路は、道、壁、ゴールとスタートを作成したのち、壁やスタート、ゴールでない箇所に地下へワープするマスを指定個数作成する。
* dungeon_makerモジュール/show_dungeon関数：作成した迷路をコンソールに表示する